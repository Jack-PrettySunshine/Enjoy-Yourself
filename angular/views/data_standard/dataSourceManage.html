 <style type="text/css">
      h4 {
          margin: 0;
          padding: 0;
      }

       .modal-dialog {
             position: absolute;
            top: 47%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            z-index: 100;
       }
       .modal-preview{
            position: absolute;
            top: 35%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ffffff;
            z-index: 100;
            /*width:600px;*/
            width:490px;
       }

       .modal-preview table{
          width:100%;
          overflow: auto;
          table-layout: fixed;
          display: block;
          max-height: 350px;
         
          overflow-y: auto;
       }
       .modal-preview table tr{
          height:32px;
          line-height: 32px;
          /*display: block;*/
           box-sizing: border-box;
           padding: 0 25px;
       }
       .modal-preview table tbody tr:nth-child(odd){
            background: #f5f5f5;
            border-top: 1px solid #e7e7e7;

       }
        .modal-preview table  th{
              /* width: 176px;
              text-align: left;*/
              width:160px;
             text-align: center
        }
         .modal-preview table  td{
               width: 160px;
              text-align: center;
              color:#333;
            /*  display: inline-block;*/
        }
       /* .modal-preview table tbody tr td:nth-of-type(1){
             
             padding-left:9px;

        }*/
        .modal-preview .total{
          background: #f5f5f5;
          border-top: 1px solid #e7e7e7;
          height:32px;
          line-height: 32px;
          display: block;
          box-sizing: border-box;
          padding: 0 25px;
          color:#333;
          margin-top:15px;
        }
        .modal-preview .view-footer{
          border-top: 1px solid #e7e7e7;
          height:50px;
        } 
        .modal-preview .view-footer button{
          float:right;
          color:#fff;
          background:#58bc58;
          height:32px;
          width:42px;
          border:0;
          border-radius: 4px;
          margin:9px 10px 0 0;
        }
        .modal-preview .nodata{
          height:32px;
          line-height: 32px;
          background: #f5f5f5;
          border-top: 1px solid #e7e7e7;
          box-sizing: border-box;
          padding: 0 25px;
          color:#333;
          text-align: center;
        }

        .modal-preview  .lihead {
          overflow: hidden;
          height:32px;
          line-height: 32px;
          padding:0 15px;
        }
        .modal-preview  .lihead li{
         
              float: left;
              margin-right: 79px;
              margin-left: 47px;
        }
       .modal-header{
             height: 50px;
            line-height: 50px;
            padding-left: 20px;
            background: rgb(17,142,238);
            color: #fff;
            margin-bottom: 10px;
       }
       .modal-body  .row{
         
           padding-left: 20px;
       }
       .modal-body  .row div {
          float: left;
          margin: 10px 17px 10px 20px;
       } 
        .modal-body  .row div input {
            display: block;
        height: 30px;
        width: 255px;
        border-radius: 3px;
        -webkit-appearance: textfield;
        border: 1px solid #ccc;
        margin-top: 3px;
        padding-left: 5px;
        }
       
         .modal-body  .row select{
              display: block;
          height: 30px;
          width: 255px;
          border-radius: 3px;
          color:#555;
          border: 1px solid #ccc;
          margin-top: 3px;
          padding-left: 5px;
         }
        .clearfix:after{
         content: "";
         display: block;
        height: 0;
        clear: both;
        }
        textarea {
          display: block;

          width: 560px;
          height: 80px;
          padding-left:5px;

        }

       input[type="button"]{ outline:none; }
       .layer {
          position: fixed;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;
          z-index: 99;
          opacity: 0.5;
          background: #ccc;
       }
       .up {z-index:200;}
       .tips{
          position: fixed;
          top: 50%;
          left: 50%;
          z-index: 1000;
          margin-top:-100px;
          margin-left:-150px;
          background: #fff;
          width:300px;
          height: 200px;
        }
        
        .tips .response .sa-error{
          
                width: 60px;
                height: 60px;
                border: 4px solid #F27474;
                -webkit-border-radius: 40px;
                border-radius: 40px;
                border-radius: 50%;
                margin: 10px auto;
                padding: 0;
                position: relative;
                box-sizing: content-box;
        }
        .tips .response .sa-success{
          
                width: 60px;
                height: 60px;
                border: 4px solid  #A5DC86;
                -webkit-border-radius: 40px;
                border-radius: 40px;
                border-radius: 50%;
                margin: 10px auto;
                padding: 0;
                position: relative;
                box-sizing: content-box;
    
        }
        .tips .response .sa-warning{
                 width: 60px;
                height: 60px;
                border: 4px solid  #F8BB86;
                -webkit-border-radius: 40px;
                border-radius: 40px;
                border-radius: 50%;
                margin: 10px auto;
                padding: 0;
                position: relative;
                box-sizing: content-box;
    
        }
         .tips .response .sa-warning .sa-body {
            position: absolute;
            width: 5px;
            height: 30px;
            left: 50%;
            top: 10px;
            -webkit-border-radius: 2px;
            border-radius: 2px;
            margin-left: -2px;
            background-color: #F8BB86;
        }

        .tips .response .sa-warning .sa-dot {
           position: absolute;
            width: 7px;
            height: 7px;
            -webkit-border-radius: 50%;
            border-radius: 50%;
            margin-left: -3px;
            left: 50%;
            bottom: 10px;
            background-color: #F8BB86;
        }
        .tips .response .sa-success .sa-line{

              height: 5px;
            background-color: #A5DC86;
            display: block;
            border-radius: 2px;
            position: absolute;
            z-index: 2;
        }
           .tips .response .sa-success .sa-line.sa-tip {
                width: 25px;
                left: 8px;
                top: 35px;
                -webkit-transform: rotate(45deg);
                transform: rotate(45deg);
        }
          .tips .response .sa-success .sa-line.sa-long {
                width: 35px;
                right: 2px;
                top: 29px;
                -webkit-transform: rotate(-45deg);
                transform: rotate(-45deg);
      }
        .tips .response .sa-error .sa-x-mark {
          position: relative;
          display: block;
      }
       .tips .response .sa-error .sa-line {
        
          position: absolute;
          height: 4px;
          width: 28px;
          background-color: #F27474;
          display: block;
          top: 29px;
          border-radius: 2px;
      }
      .tips .response .sa-error .sa-left{
          -webkit-transform: rotate(45deg);
          transform: rotate(45deg);
          left: 17px;
      }  
      .tips .response .sa-error .sa-right{
          -webkit-transform: rotate(-45deg);
          transform: rotate(-45deg);
          right: 16px;
      }
      .tips h2 {
       color: #575757;
      font-size: 20px;
      text-align: center;
      text-transform: none;
      position: relative;
      width: 300px;
      padding: 0;
      line-height: 40px;
      display: block;
      margin: 0 auto;
    }  
    .tips p{
      color: #797979;
      font-size: 12px;
      text-align: center;
      font-weight: 300;
      position: relative;
      text-align: inherit;
      float: none;
      margin: 0;
      padding: 0;
      line-height: normal;
      margin:0 auto;
      width:200px;
      text-align: center;
    }
    .tips button{
       color:#fff;
      border:none;
      outline: none;
      border-radius: 4px;
      padding: 5px 20px;
    }
    .tips .closethis{
      background-color: rgb(140, 212, 245);
     
      margin:5px 122px;
    }
    .tips button.closethis:hover{
          background-color: #7ecff4;

    }
    .tips .warn{
      width:300px;
      margin:10px auto;
      text-align: center;
    }
    .tips .warn .confirm{
            background-color: rgb(140, 212, 245);
            box-shadow: rgba(140, 212, 245, 0.8) 0px 0px 2px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px inset;
    }
/*    .tips .warn.cancel{
        margin-left:100px;
    }*/
        .animateErrorIcon {
          -webkit-animation: animateErrorIcon 0.3s;
          animation: animateErrorIcon 0.3s;
          animation-name: animateErrorIcon;
          animation-duration: 0.3s;
          animation-timing-function: initial;
          animation-delay: initial;
          animation-iteration-count: initial;
          animation-direction: initial;
          animation-fill-mode: initial;
          animation-play-state: initial;
      }
        .modal-footer{
          padding-bottom:37px;
        } 
       .modal-footer .btn{
          float:right;
          height: 24px;
          width: 110px;
          border: 0;
          border-radius: 15px;
          background: #ddd;
         
          font-size: 12px;
          margin-right: 16px;
          outline: none;
       }
        .modal-footer .test{
          float:left;
          height: 24px;
          width: 110px;
          border: 0;
          border-radius: 15px;
         color:#fff;
         margin-left:43px;
          font-size: 12px;
          margin-right: 16px;
          background-color: #5bc0de;
         border-color: #46b8da;
         outline: none;
       }
       .modal-footer .btn-success{
          background: #58bc58;
          color: #ffffff;
          outline: none;
       }
      input:-webkit-autofill { box-shadow: 0 0 0px 1000px white inset !important;}
    .wrap-main input.wraps{
      width:100% !important;
    }
    .wrap-main .seach{
    float:right;}
    select{
      color:#555;
    }
    .table tr td {
      padding-right: 32px;
      max-width: 435px;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
  }
  </style>
    <div  class="wrap-main clearfix" style="background:#ffffff;position:relative">

              <div id="queryFilter">
                <div>
                    <input type="button" value="新增" class="btn" ng-click="add()" /> 
                    
                     <div class="seach">
                     
                    
                       <input  type="text" class="" ng-model='search'   placeholder="请输入 数据源名称" />
                    
                    
                        <select name="sourcetype" ng-model='searchtype'>
                <option value="" selected="">选择数据源类型</option>
                <option value="ORACLE">ORACLE</option>
                <option value="MYSQL">MYSQL</option>
              
                <option value="HIVE">HIVE</option>
                <option value="HBASE">HBASE</option>
                
              </select>
            <input type="button" value="查询" class="btnseach btn" ng-click="seachFn()" />
                  </div>
                </div>
              </div>

              <div class="tableWrap">
              <cur-Table tb-Id="t1" tb-Url="http://localhost:8080/console/data/standard/datasource/list.do"
                seach-Text="seachtext" sel-Id="selId" sel-Ids="selIds"
                sel-Date="selDate" edit="edit(item)" delete="delete(id)"
                del="del(item)" testlink="testlink(item)" synchronous="synchronous(item)" updatetable="updatetable(item)" is-Refresh="isRefresh" is-Seach="isSeach"
                cur-Format='curFormat(file,value)' dataset='dataset' option="option" > </cur-Table>

              </div>    
             
         <div class="modal-dialog" ng-show="show" >
                 
                    <div class="modal-header">
                     
                      <h4 class="modal-title">新增数据源</h4>
                    </div>
                    <div class="modal-body" id="cnt">
                      <form action="" name="myForm" novalidate>
                          <div class="row clearfix"> 

                             <div> 
                                  <label><span style="color:red">*</span>数据源名:</label>
                                 
                                  <span style="color:red" ng-show="myForm.user.$dirty && myForm.user.$invalid">
                                         <span ng-show="myForm.user.$error.required">此项不能为空</span>
                                  </span>
                                 <input placeholder="请输入数据源名" type="text" ng-model="user" > </div>                                                   
                             <div>
                              <label>
                                <span style="color:red">*</span>数据库类型:
                              </label>
                              <select name="type" class="form-control" ext-event="change dbTypeChange" ext-validate="isNotNull" ng-model= "thistype" ng-change="typeshow()">
                                  <option value="">请选择</option>
                                  <option value="ODPS" >ODPS</option>
                                  <option value="ORACLE">ORACLE</option>
                                  <option value="MYSQL">MYSQL</option>
                                  <option value="HIVE" >HIVE</option>
                                  <option value="HBASE">HBASE</option>
                  
                            </select>
                             </div> 
                          </div>
                           
                           <div class="row clearfix"> 
                            
                              <div> 
                                  <label><span style="color:red">*</span>组件类型:</label>
                                  <select name="type" class="form-control" ext-event="change dbTypeChange" ext-validate="isNotNull" ng-model="thattype">
                                    <option value="">请选择</option>
                                    <option value="1" >数据源</option>
                                    <option value="2">目标</option>
                             </select>
                </div>
                          </div> 
                         
                         <div class="row clearfix ">
                              <div style="width:555px"> <label>数据源描述:</label>
                              <input class="wraps" ng-model="description" placeholder="数据源描述不能超过80字"/></div>
                          </div>
                          
                          <div ng-show="notodps">

                              <div class="row clearfix">
                                  <div style="width:555px"> <label><span style="color:red">*</span>链接Url:</label>
                                      <span style="color:red" ng-show="myForm.dbUrl.$dirty && myForm.dbUrl.$invalid">
                                            <span ng-show="myForm.dbUrl.$error.required">此项不能为空</span>
                                      </span>
                                      <input type="text" name="dbUrl" ng-model = "dbUrl" required class="wraps"/>
                                  </div>
                              </div>

                               <div class="row clearfix"> 
                                    <div> 
                                            <label><span style="color:red">*</span>用户名</label>
                                            <span style="color:red" ng-show="myForm.dbUsername.$dirty && myForm.dbUsername.$invalid">
                                                  <span ng-show="myForm.dbUsername.$error.required">此项不能为空</span>
                                            </span>
                                            <input autocomplete="off" placeholder="请输入用户名" type="text" name="dbUsername" ng-model="dbUsername" required>
                                    </div>
                                    
                                    <div>
                                            <label><span style="color:red">*</span>密码</label>
                                            <span style="color:red" ng-show="myForm.dbPassword.$dirty && myForm.dbPassword.$invalid">
                                                  <span ng-show="myForm.dbPassword.$error.required">此项不能为空</span>
                                            </span>
                                            <input autocomplete="off"  placeholder="请输入密码" type="password" name="dbPassword" ng-model="dbPassword" required>
                                    </div>
                              </div> 
                          </div>
                         
                          <div ng-show="istodps">
                            <div class="row clearfix"> 
                                    <div> 
                                            <label><span style="color:red">*</span>Endpoint:</label>
                                           <!--  <span style="color:red" ng-show="myForm.dbUsername.$dirty && myForm.dbUsername.$invalid">
                                                  <span ng-show="myForm.dbUsername.$error.required">此项不能为空</span>
                                            </span> -->
                                            <!-- <input  placeholder="请输入用户名" type="text" name="dbUsername" ng-model = "dbUsername" required> -->
                                            <input type="text">
                                    </div>
                                    
                                    <div>
                                            <label><span style="color:red">*</span>项目名称</label>
                                            <!-- <span style="color:red" ng-show="myForm.dbPassword.$dirty && myForm.dbPassword.$invalid">
                                                  <span ng-show="myForm.dbPassword.$error.required">此项不能为空</span>
                                            </span> -->
                                            <!-- <input  placeholder="请输入密码" type="text" name="dbPassword" ng-model="dbPassword" required> -->
                                            <input type="text">
                                    </div>
                              </div> 
                             <div class="row clearfix"> 
                                      <div> 
                                              <label><span style="color:red">*</span>Access ID:</label>
                                              <!-- <span style="color:red" ng-show="myForm.dbUsername.$dirty && myForm.dbUsername.$invalid">
                                                    <span ng-show="myForm.dbUsername.$error.required">此项不能为空</span>
                                              </span> -->
                                              <!-- <input  placeholder="请输入用户名" type="text" name="dbUsername" ng-model = "dbUsername" required> -->
                                              <input type="text" placeholder="请输入AccessID">
                                      </div>
                                      
                                      <div>
                                              <label><span style="color:red">*</span>Access Key</label>
                                              <!-- <span style="color:red" ng-show="myForm.dbPassword.$dirty && myForm.dbPassword.$invalid">
                                                    <span ng-show="myForm.dbPassword.$error.required">此项不能为空</span>
                                              </span> -->
                                             <!--  <input  placeholder="请输入密码" type="text" name="dbPassword" ng-model="dbPassword" required> -->
                                             <input type="text" placeholder="请输入AccessID">
                                      </div>
                                </div> 
                          </div>
                         
                              
                    </form>
                    </div>
                    <div class="modal-footer">
                     
                      <button type="button" class="btn-success btn" ng-click="check()" ng-if="adddata" >确定</button>
                      <button type="button" class="btn-success btn" ng-click="update()" ng-if="updatedata" >确定</button>
                     <!--  <button type="button" class="btn" ng-click="listreset()" >取消</button>   -->
                       <button type="button" class="btn" ng-click="closethat()" >取消</button>
                      <button type="button" class=" test" ng-click="testLink()">测试连接</button>
                    </div>
                
                </div>
          <div class = "modal-preview" ng-show = "isshow">
                <div class="modal-header">
                      <h4 class="modal-title">查看所属数据源表</h4>
                      
                </div>
                <div>
                  <div ng-show ="islengther">

                    <table>
                          <thead style="width:100%">
                                <tr>
                                    <th>序号</th>
                                    <th>数据表名</th>
                                    <th>数据表描述</th>
                                    
                                </tr>
                          </thead>
                          <tbody >
                               
                              <tr ng-repeat ="item in previewdata" style="width:583px">
                                    <td>[[$index+1]]</td>
                                    <td>[[item.tblName]]</td>
                                    <td>[[item.tblDesc]]</td>
                                  
                              </tr>
                          </tbody>
                    </table>
                    <div class="total">
                          <p>显示第 1 至 [[thislength]] 项结果，共 [[thislength]]项</p>
                    </div>
                  </div>
                  <div ng-show ="notlengther">
                      <ul class="lihead">
                        <li><h4>序号</h4></li>
                        <li><h4>数据表名</h4></li>
                        <li><h4>数据表描述</h4></li>
                      </ul>
                      <div class="nodata">表中暂无数据</div>
                  </div>
                    <div class="view-footer">
                          <button ng-click="isshow=false">确定</button>
                    </div>
                </div>
          </div>
          <div class="layer" ng-show="iscover"></div>
          <div class="layer" ng-show="isshow"></div>
          <div class="layer up" ng-show ="showtips" ></div>

          <div class="tips" ng-show="showtips" style="border:1px solid #ddd">
            
                <div class="response">
                      <div class="sa-icon sa-error animateErrorIcon" style="display: block;" ng-show="iserror">
                            <span class="sa-x-mark animateXMark">
                              <span class="sa-line sa-left"></span>
                              <span class="sa-line sa-right"></span>
                            </span>
                            
                      </div>
                      <div class="sa-icon sa-success animate" style="display: block;" ng-show="issuccess">
                            <span class="sa-line sa-tip animateSuccessTip"></span>
                            <span class="sa-line sa-long animateSuccessLong"></span>

                            <!-- <div class="sa-placeholder"></div>
                            <div class="sa-fix"></div> -->
                      </div>

                       <div class="sa-icon sa-warning pulseWarning" style="display: block;"  ng-show="iswarn">
                          <span class="sa-body pulseWarningIns"></span>
                          <span class="sa-dot pulseWarningIns"></span>
                      </div> 
                  
                  </div>
                  <div></div>
                     <h2 ng-show="!iswarn">提示信息</h2> 
                     <h2 ng-show="iswarn">确定删除选中的数据源？</h2> 
                     <p ng-show="iserrorfalid">数据源连接失败，无法保存数据</p>
                     <p ng-show="issuccess233">添加成功</p>
                     <p ng-show="isconnectsuccess">连接成功</p>
                     <p ng-show="isconnecterror">连接失败</p>
                     <p ng-show="isupdatesuccess">操作成功</p>
                     <p ng-show="isupdatefalid">操作失败</p>
                     <p ng-show="iswarn">确定删除选中的数据源？</p>
                     <button ng-show="!iswarn" class="closethis" ng-click="closethis()">OK</button>
                     <div ng-show="iswarn" class="warn">

                       <button ng-show="iswarn" class="cancel" ng-click="closethis()"">取消</button>
                       <button ng-show="iswarn" class="confirm" ng-click="isDel()">确定</button>
                     </div>
                </div>
          </div>
          
          
           
    </div>